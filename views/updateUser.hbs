<!DOCTYPE html>
<html lang="en">

<head>
  <title>Asset Management</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script>
    function manager() {
      var category = document.getElementById("empCategory").value;
      if (category == "Employee") {
        document.getElementById("mgrdiv").style.display = "block";
      }
      else
        document.getElementById("mgrdiv").style.display = "none";
    }
    function validateForm() {
      var cat = document.getElementById("empCategory").value;
      var id = document.getElementById("eid").value;
      if (cat.charAt(0) != id.charAt(0)) {
        alert("For " + cat + ", their ID should start with " + cat.charAt(0));
        return false;
      }
      var mid = document.getElementById("mgrid").value;
      if ((cat == "Employee") && (mid == "")) {
        alert("If Employee type is an Employee, his Manager ID  must be filled out");
        return false;
      }
    }

  </script>

</head>

<body>

  <div class="container">
    <h3>Update User</h3>
    <div class="jumbotron" style="width: 1000px; height: 100%">
      <form class="form-horizontal" action="modfyUser" method="POST" onsubmit="return validateForm()">
        <input type="hidden" value="{{data._id}}" name="eoid">
        <div class="form-group">
          <label class="control-label col-sm-2" for="fn">First Name:</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="fname" value="{{data.fname}}" name="fname">
          </div>
        </div>
        <div class="form-group">
          <label class="control-label col-sm-2" for="ln">Last Name:</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="lname" value="{{data.lname}}" name="lname">
          </div>
        </div>
        <div class="form-group">
          <label class="control-label col-sm-2" for="email">Email:</label>
          <div class="col-sm-10">
            <input type="email" class="form-control" id="email" value="{{data.email}}" name="email">
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label" for="employee_categorie">Employee CATEGORY</label>
          <div class="col-sm-10">
            <select id="empCategory" name="empCat" class="form-control" value="{{data.employeeCategory}}"
              onchange="manager()">
              <option value="Support">Support</option>
              <option value="Manager">Manager</option>
              <option value="Employee">Employee</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label class="control-label col-sm-2" for="id">Employee ID</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="eid" value="{{data.empid}}" name="empid">
          </div>
        </div>
        <div class="form-group" id="mgrdiv" style="display: none">
          <label class="control-label col-sm-2" for="mid">Manager ID</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="mgrid" value="{{data.mgrid}}" name="mgrid">
          </div>
        </div>
        <div class="form-group">
          <label class="control-label col-sm-2" for="mob">Mobile Number:</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="mobNum" value="{{data.mobNum}}" name="mobNum">
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <input type="submit" value="Update User" class="btn btn-default">
          </div>
        </div>
        <div class="col-sm-offset-2 col-sm-10">
          <a href="viewUser" type="button" class="btn btn-default">Back</a>
        </div>
      </form>
    </div>
  </div>
</body>

</html>